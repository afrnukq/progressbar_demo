<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <style type="text/css">
        #cntr {
            border: 1px solid;
            background-color: white;
            width: 500px;
            height: 20px;
            margin-bottom: 10px;
        }
        
        #prog {
            width: 0%;
            height: 20px;
            background-color: yellow;
        }
        
        #percent {
            float: right;
            margin-right: 2px;
        }
    </style>
    <script type="text/javascript" src="fakeprogress.js"></script>
    <script type="text/javascript">
        var onload = function() {
            FP.init({
                onPercentChanged: function(percent) {
                    var p = (percent < 100 ? percent.toFixed(1) : "100") + "%";
                    document.getElementById("percent").innerText = p;
                    document.getElementById("prog").style.width = p;
                }
            });

            FP.goTo(80, 5000, function() {
                alert("timeout!");
            });

            document.getElementById("btnDone").onclick = function() {
                FP.goTo(100, 300, function() {
                    alert("done!");
                });
            };
        };
    </script>
</head>

<body onload="onload">
    <div id="cntr">
        <div id="prog"><span id="percent"></span></div>
    </div>
    <input type="button" value="done" id="btnDone" />
</body>

</html>